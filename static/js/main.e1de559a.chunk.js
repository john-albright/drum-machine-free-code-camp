(this["webpackJsonpdrum-machine-free-code-camp"]=this["webpackJsonpdrum-machine-free-code-camp"]||[]).push([[0],{13:function(e,t,r){"use strict";r.r(t);var i=r(5),n=r(6),s=r(2),a=r(10),o=r(9),d=r(0),u=r.n(d),c=r(3),l=r.n(c),p=r(8),y=r(12),h=(r(24),r(1)),f="ON",k="OFF",O={power:!0},m=Object(y.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{power:!0};case k:return{power:!1};default:return e}}));m.subscribe((function(){return console.log(m.getState())}));var b=[{keyCode:81,keyTrigger:"Q",id:"Clap",url:"sounds/808_6_Clap.wav"},{keyCode:87,keyTrigger:"W",id:"High Pitch",url:"sounds/808_5_High_Pitch.wav"},{keyCode:69,keyTrigger:"E",id:"Kick 1",url:"sounds/808_K_kick.wav"},{keyCode:65,keyTrigger:"A",id:"Snare 1",url:"sounds/909CX_40_SN2_6.wav"},{keyCode:83,keyTrigger:"S",id:"Ride Cymbal",url:"sounds/909CX_59_RD2_8.wav"},{keyCode:68,keyTrigger:"D",id:"Snare 2",url:"sounds/Alchemist_Snare_9.wav"},{keyCode:90,keyTrigger:"Z",id:"Shaker",url:"sounds/Alchemist_Shaker_1.wav"},{keyCode:88,keyTrigger:"X",id:"Cymbal Crash",url:"sounds/808_4_Cymbal_Crash.wav"},{keyCode:67,keyTrigger:"C",id:"Hi Hat",url:"sounds/Alchemist_HiHat_8.wav"}],g={backgroundColor:"blue",borderColor:"black",transform:"scale(1.1)"},v={backgroundColor:"transparent"},C=function(e){Object(a.a)(r,e);var t=Object(o.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).state={drumStyle:v},n.handleKeyPress=n.handleKeyPress.bind(Object(s.a)(n)),n.emitSound=n.emitSound.bind(Object(s.a)(n)),n.activatePad=n.activatePad.bind(Object(s.a)(n)),n}return Object(n.a)(r,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"handleKeyPress",value:function(e){this.props.powerOnOff&&e.keyCode===this.props.keyCode&&this.emitSound()}},{key:"activatePad",value:function(){this.props.powerOnOff&&("blue"!==this.state.drumStyle.backgroundColor?this.setState({drumStyle:g}):this.setState({drumStyle:v}))}},{key:"emitSound",value:function(){var e=this;if(this.props.powerOnOff){var t=document.getElementById(this.props.keyTrigger);console.log(t),t.currentTime=0;var r=t.play();this.props.updateDisplay(this.props.id),setTimeout((function(){return e.activatePad()}),100),setTimeout((function(){return e.activatePad()}),300),void 0!==r&&r.then((function(){console.log("Playing ".concat(t))})).catch((function(e){console.error(e)}))}}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"drum-pad",id:this.props.id,onClick:this.emitSound,style:this.state.drumStyle,children:[Object(h.jsx)("audio",{className:"clip",id:this.props.keyTrigger,src:this.props.audioLink}),this.props.keyTrigger]})}}]),r}(u.a.Component),j=function(e){Object(a.a)(r,e);var t=Object(o.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).state={displayText:""},n.displayClipName=n.displayClipName.bind(Object(s.a)(n)),n.turnOnOff=n.turnOnOff.bind(Object(s.a)(n)),n}return Object(n.a)(r,[{key:"displayClipName",value:function(e){this.setState({displayText:e})}},{key:"turnOnOff",value:function(){console.log(this.props.powerStatus),this.props.powerStatus?(this.props.powerOff(),this.setState({displayText:"Off"})):(this.props.powerOn(),this.setState({displayText:"On"}))}},{key:"render",value:function(){var e=this,t=b.map((function(t,r,i){return Object(h.jsx)(C,{className:"drum-pad",id:i[r].id,audioLink:i[r].url,keyTrigger:i[r].keyTrigger,keyCode:i[r].keyCode,updateDisplay:e.displayClipName,powerOnOff:e.props.powerStatus},i[r].keyCode)}));return Object(h.jsxs)("div",{id:"drum-machine",children:[Object(h.jsxs)("div",{id:"main",children:[Object(h.jsx)("div",{id:"display",children:this.state.displayText}),t]}),Object(h.jsx)("div",{id:"menu",children:Object(h.jsx)("div",{id:"power",onClick:this.turnOnOff,children:"POWER"})})]})}}]),r}(u.a.Component),w=Object(p.b)((function(e){return{powerStatus:e.power}}),(function(e){return{powerOn:function(){return e({type:f})},powerOff:function(){return e({type:k})}}}))(j);l.a.render(Object(h.jsx)(p.a,{store:m,children:Object(h.jsx)(w,{})}),document.getElementById("root"))},24:function(e,t,r){}},[[13,1,2]]]);
//# sourceMappingURL=main.e1de559a.chunk.js.map